<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sistema-Laudo (Principal)</title>

  <style>
    :root{
      --blue1:#0d3a66;
      --blue2:#1b5fa3;
      --panel: rgba(255,255,255,0.96);
      --panel2: rgba(255,255,255,0.82);
      --border:#c7d7e6;
      --shadow: 0 10px 30px rgba(0,0,0,.12);
    }

    *{ box-sizing:border-box; }

    body{
      margin:0;
      font-family: Arial, sans-serif;
      background:
        radial-gradient(1200px 600px at 10% 10%, rgba(255,255,255,.20), transparent 50%),
        radial-gradient(900px 500px at 90% 30%, rgba(255,255,255,.18), transparent 55%),
        linear-gradient(135deg, var(--blue1), var(--blue2));
      min-height:100vh;

      /* espaço para roteiro fixo */
      padding-top: 54px;
    }

    /* ===========================
       TOPO (LOGO + TITULO)
    =========================== */
    header{
      position: relative;
      padding: 16px 22px 8px;
      color: #fff;
    }

    .topbar{
      display:flex;
      align-items:center;
      gap:14px;
      flex-wrap:wrap;
    }

    .logoBox{
      width:46px;
      height:46px;
      border-radius:12px;
      background: rgba(255,255,255,.15);
      border: 1px solid rgba(255,255,255,.20);
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight: 900;
      letter-spacing: .5px;
      box-shadow: 0 6px 20px rgba(0,0,0,.15);
      user-select:none;
    }

    h1{
      margin:0;
      font-size: 36px;
      line-height: 1.1;
      letter-spacing: .3px;
      text-shadow: 0 8px 20px rgba(0,0,0,.18);
    }

    /* ===========================
       CONTEUDO
    =========================== */
    .wrap{
      width:min(1100px, 96vw);
      margin: 10px auto 40px;
      background: var(--panel2);
      border: 1px solid rgba(255,255,255,.22);
      border-radius: 18px;
      box-shadow: var(--shadow);
      padding: 18px;
    }

    .card{
      background: var(--panel);
      border-radius: 16px;
      border: 1px solid var(--border);
      padding: 16px;
    }

    .titleSec{
      font-weight: 900;
      color:#0d3a66;
      font-size: 20px;
      margin: 2px 0 14px;
      text-transform: uppercase;
    }

    textarea{
      width:100%;
      min-height: 240px;
      resize: vertical;
      border:1px solid #cfdceb;
      border-radius: 14px;
      padding: 14px;
      font-size: 15px;
      outline:none;
    }
    textarea:focus{
      border-color:#2c7bd6;
      box-shadow: 0 0 0 3px rgba(44,123,214,.15);
    }

    .btn{
      margin-top: 14px;
      width:100%;
      border:none;
      border-radius: 14px;
      padding: 16px 16px;
      font-size: 22px;
      font-weight: 900;
      color:#fff;
      cursor:pointer;
      background: linear-gradient(90deg, #0aa34f, #08c25a);
      box-shadow: 0 12px 25px rgba(10,163,79,.28);
    }
    .btn:hover{ filter: brightness(1.03); }

    .checks{
      margin-top: 10px;
      font-size: 15px;
      color:#1e2b37;
      display:grid;
      gap:6px;
    }

    .grid{
      display:grid;
      gap: 14px;
      grid-template-columns: 1fr 260px;
      margin-top: 18px;
    }
    @media(max-width:820px){
      .grid{ grid-template-columns: 1fr; }
    }

    label{
      font-weight: 800;
      color:#0d3a66;
      margin-bottom: 6px;
      display:block;
    }

    input{
      width:100%;
      padding: 12px 12px;
      border-radius: 12px;
      border:1px solid #cfdceb;
      outline:none;
      font-size: 15px;
      background:#fff;
    }
    input:focus{
      border-color:#2c7bd6;
      box-shadow: 0 0 0 3px rgba(44,123,214,.15);
    }

    /* ===========================
       ROTEIRO FIXO (igual sua imagem)
    =========================== */
    #roteiroTopo{
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 999999;
      padding: 10px 14px;
      font-size: 13px;
      color: #e9f3ff;
      background: rgba(20, 40, 60, 0.60);
      border-bottom: 1px solid rgba(255,255,255,0.14);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
    }
    #roteiroTopo .linha{
      display:flex;
      align-items:center;
      flex-wrap:wrap;
      gap: 6px;
    }
    #roteiroTopo .rotulo{
      opacity:.9;
      font-weight: 900;
      letter-spacing: .2px;
      margin-right: 6px;
    }
    #roteiroTopo .item{
      padding: 3px 10px;
      border-radius: 999px;
      background: rgba(255,255,255,0.10);
      border: 1px solid rgba(255,255,255,0.12);
      white-space: nowrap;
      font-weight: 700;
    }
    #roteiroTopo .sep{
      opacity:.55;
      font-weight: 900;
      margin: 0 2px;
    }
  </style>
</head>

<body>

  <!-- ✅ ROTEIRO FIXO BONITO NO TOPO -->
  <div id="roteiroTopo">
    <div class="linha">
      <span class="rotulo">Ordem:</span>
      <span class="item">Data da Coleta</span><span class="sep">|</span>
      <span class="item">Data de Nascimento</span><span class="sep">|</span>
      <span class="item">Cartão SUS</span><span class="sep">|</span>
      <span class="item">Telefone</span><span class="sep">|</span>
      <span class="item">Rua</span><span class="sep">|</span>
      <span class="item">Bairro</span><span class="sep">|</span>
      <span class="item">Cidade</span><span class="sep">|</span>
      <span class="item">CEP</span><span class="sep">|</span>
      <span class="item">Responsável (SNM/EAM)</span>
    </div>
  </div>

  <!-- TOPO COM LOGO -->
  <header>
    <div class="topbar">
      <div class="logoBox">SL</div>
      <h1>Sistema de Laudos</h1>
    </div>
  </header>

  <main class="wrap">
    <section class="card">
      <div class="titleSec">Digitação rápida</div>

      <!-- ❌ REMOVIDO: Card “Guia Permanente” que repetia o roteiro -->

      <textarea id="textoDigitacao" placeholder="Cole aqui os dados do paciente conforme a ordem acima..."></textarea>

      <button class="btn" id="btnExtrair">EXTRAIR AUTOMATICAMENTE E ABRIR LAUDO</button>

      <div class="checks">
        <div>✅ Última linha pode ser: SNM ou EAM (Responsável).</div>
        <div>✅ O nome não quebra: o exame é detectado por padrão 000156/2026.</div>
      </div>

      <div class="grid">
        <div>
          <label>Paciente</label>
          <input id="nome" placeholder="NOME COMPLETO"/>
        </div>

        <div>
          <label>Nº Exame</label>
          <input id="exame" placeholder="000156/2026"/>
        </div>
      </div>
    </section>
  </main>

  <script>
    const $ = (id)=>document.getElementById(id);

    function detectarExame(texto){
      // aceita 000156/2026 ou 000156.2026 ou 000156-2026
      const m = texto.match(/(\d{3,6})\s*[\/\.\-]\s*(\d{4})/);
      if(!m) return "";
      return `${m[1].padStart(6,"0")}/${m[2]}`;
    }

    $("btnExtrair").addEventListener("click", ()=>{
      const texto = $("textoDigitacao").value.trim();
      if(!texto){
        alert("Cole os dados da digitação rápida.");
        return;
      }

      const linhas = texto.split(/\r?\n/).map(l=>l.trim()).filter(Boolean);
      const exame = detectarExame(texto);
      const nome = linhas[0] || "";

      $("nome").value = nome;
      if(exame) $("exame").value = exame;

      alert("Extraído! (Modelo)\n\nAgora você já tem o roteiro FIXO bonito no topo.");
    });
  </script>
</body>
</html>
